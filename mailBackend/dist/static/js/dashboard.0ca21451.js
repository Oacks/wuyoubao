(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{4354:function(e,t,a){},"4d17":function(e,t,a){"use strict";var l=a("4354"),s=a.n(l);s.a},"4ed0":function(e,t,a){"use strict";var l=a("a456"),s=a.n(l);s.a},6454:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods-form"},[a("div",{staticClass:"table-area"},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("新建")])],1),a("div",{staticStyle:{margin:"10px 0"}},[e._v("\n        用户搜索：\n        "),a("el-input",{staticStyle:{width:"150px",margin:"0 10px"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.search}})],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","row-key":"id","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"memberName",label:"会员呢称"}}),a("el-table-column",{attrs:{prop:"status",label:"会员状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(1==t.row.status?"激活":"注销")+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}}),a("el-table-column",{attrs:{prop:"status",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.del(t.row)}}},[e._v("注销")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.page.no,"page-size":e.page.size,total:e.page.total},on:{"current-change":e.handlePageChange}})],1),a("el-dialog",{staticClass:"user-dialog",attrs:{"close-on-click-modal":!1,title:"create"===e.operate?"创建会员":"编辑会员",visible:e.dialogVisible,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"会员呢称"}},[a("el-input",{model:{value:e.form.memberName,callback:function(t){e.$set(e.form,"memberName",t)},expression:"form.memberName"}})],1)],1),a("el-col",{attrs:{span:12}},["create"===e.operate?a("el-form-item",{attrs:{label:"会员密码"}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"会员状态"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{disabled:"create"===e.operate,placeholder:"请选择会员状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{value:0,label:"注销"}}),a("el-option",{attrs:{value:1,label:"激活"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"会员等级"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择会员等级"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[a("el-option",{attrs:{value:1,label:"游客"}}),a("el-option",{attrs:{value:2,label:"普通"}}),a("el-option",{attrs:{value:3,label:"VIP"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)])},s=[],o=(a("c5f6"),a("365c")),r=a("2ef0"),n={name:"userForm",props:{},components:{},computed:{},data:function(){return{operate:"create",tableData:[],page:{no:1,total:0,size:20},form:{remarks:"",level:1,status:1,password:"",memberName:""},dialogVisible:!1,selectRow:[],level:"",userName:""}},created:function(){this.getData()},methods:{search:function(){this.getData()},handlePageChange:function(){this.getData()},getData:function(){var e=this,t={pageSize:this.page.size,page:this.page.no,level:this.level,userName:this.userName};Object(o["s"])(t).then((function(t){console.log(t.records),e.tableData=t.records,e.page.total=t.total,e.page.no=t.current}))},changeLevel:function(e){this.level=e,this.getData()},handleSelectionChange:function(e){this.selectRow=e},create:function(){this.operate="create",this.form={remarks:"",level:1,status:1,password:"",memberName:""},this.openDialog()},edit:function(e){this.operate="edit",e.status=Number(e.status),this.form=e,this.openDialog()},del:function(e){this.operate="edit",e.status=Number(e.status),this.form=e,this.form.status=0,this.save()},save:function(){var e=this,t=Object(r["cloneDeep"])(this.form);t.password&&(t.password=window.btoa(t.password)),"create"==this.operate&&userRegister(t).then((function(t){t&&(e.$message.success({message:"创建成功"}),e.dialogVisible=!1,e.getData())})),"edit"==this.operate&&(delete t.password,userUpdate(t).then((function(t){t&&(e.$message.success({message:"修改成功"}),e.dialogVisible=!1,e.getData())})))},openDialog:function(){this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1}}},i=n,c=(a("4d17"),a("2877")),p=Object(c["a"])(i,l,s,!1,null,"c51a7e0c",null);t["default"]=p.exports},a456:function(e,t,a){},e7dc:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods-form"},[a("h2",[e._v("销售记录")]),a("hr",{staticStyle:{"margin-bottom":"10px"}}),a("div",{staticClass:"table-area"},[a("h4",[e._v("无忧宝卡销售记录")]),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","row-key":"id","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"title",label:"卡号"}}),a("el-table-column",{attrs:{prop:"contractId",label:"合同号"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.page.no,"page-size":e.page.size,total:e.page.total},on:{"current-change":e.handlePageChange}})],1)],1),a("div",{staticClass:"table-area"},[a("h4",[e._v("邮品销售记录")]),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.postTableData,border:"","row-key":"id","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"title",label:"名称"}}),a("el-table-column",{attrs:{prop:"contractId",label:"合同号"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.postpage.no,"page-size":e.postpage.size,total:e.postpage.total},on:{"current-change":e.handlePostPageChange}})],1)],1)])},s=[],o=a("365c"),r=(a("2ef0"),{name:"CardDetailManage",components:{},data:function(){return{operate:"detail",tableData:[],postTableData:[],page:{no:1,total:0,size:20},postpage:{no:1,total:0,size:20},form:{},dialogVisible:!1,selectRow:[],statusOpt:[{value:0,label:"未售"},{value:1,label:"已售"}]}},mounted:function(){this.getData(1),this.getData(2)},methods:{handlePageChange:function(e){this.page.no=e,this.getData(1)},handlePostPageChange:function(e){this.postpage.no=e,this.getData(2)},getData:function(e){var t=this,a={saleType:e,page:this.page.no,pageSize:this.page.size};Object(o["b"])(a).then((function(a){1==e?(t.tableData=a.records,t.page.total=a.total,t.page.no=a.current):2==e&&(t.postTableData=a.records,t.postpage.total=a.total,t.postpage.no=a.current)}))},handleSelectionChange:function(e){this.selectRow=e}}}),n=r,i=(a("4ed0"),a("2877")),c=Object(i["a"])(n,l,s,!1,null,"3b4f2c20",null);t["default"]=c.exports}}]);