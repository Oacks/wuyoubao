(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["contract"],{"62ce":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-form"},[n("h2",[t._v("合同管理")]),n("hr",{staticStyle:{"margin-bottom":"10px"}}),n("div",{staticClass:"table-area"},[n("div",{staticStyle:{margin:"10px 0"}},[n("el-form",{staticClass:"demo-form-inline",attrs:{model:t.searchForm,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"合同状态"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusOpt,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1)],1),n("div")],1),n("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:"","row-key":"id","header-cell-class-name":"table-header"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{prop:"contractNo",label:"合同号"}}),n("el-table-column",{attrs:{prop:"memberName",label:"客户名"}}),n("el-table-column",{attrs:{prop:"status",label:"合同状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.getStatus(e.row.status))+"\n            ")]}}])}),n("el-table-column",{attrs:{prop:"status",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.detail(e.row)}}},[t._v("查看")]),"2"==e.row.status?n("el-button",{attrs:{type:"success"},on:{click:function(n){return t.approvalReady(e.row)}}},[t._v("审批")]):t._e(),"3"==e.row.status?n("el-button",{attrs:{type:"success"},on:{click:function(n){return t.sendCard(e.row)}}},[t._v("发卡")]):t._e()]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.page.no,"page-size":t.page.size,total:t.page.total},on:{"current-change":t.handlePageChange}})],1),n("el-dialog",{staticClass:"user-dialog",attrs:{"close-on-click-modal":!1,title:"detail"===t.operate?"查看合同":"",visible:t.dialogVisible,"before-close":t.closeDialog,width:"700px"}},[n("el-form",{staticClass:"demo-form-inline",attrs:{model:t.detailInfo,"label-width":"140px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"合同号："}},[t._v("\n                            "+t._s(t.detailInfo.contractNo)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"车主姓名："}},[t._v("\n                            "+t._s(t.detailInfo.memberName)+"\n                        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"联系电话："}},[t._v("\n                            "+t._s(t.detailInfo.mobile)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"联系地址："}},[t._v("\n                            "+t._s(t.detailInfo.address)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"车辆品牌："}},[t._v("\n                            "+t._s(t.detailInfo.brand)+"\n                        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"车辆型号："}},[t._v("\n                            "+t._s(t.detailInfo.vehicle)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"车辆购买时间："}},[t._v("\n                            "+t._s(t.detailInfo.carBuyTime)+"\n                        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"车辆类型："}},[t._v("\n                            "+t._s("0"==t.detailInfo.carType?"新车":"1"==t.detailInfo.carType?"旧车":"")+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"原厂保修起始日期："}},[t._v("\n                            "+t._s(t.detailInfo.oldStartTime)+"\n                        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"原厂保修结束日期："}},[t._v("\n                            "+t._s(t.detailInfo.oldEndTime)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"车架号（VIN）："}},[t._v("\n                            "+t._s(t.detailInfo.vin)+"\n                        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"发动机号："}},[t._v("\n                            "+t._s(t.detailInfo.engineNum)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"车牌号码："}},[t._v("\n                            "+t._s(t.detailInfo.licensePlate)+"\n                        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"车辆售出价格："}},[t._v("\n                            "+t._s(t.detailInfo.carPrice)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"延保销售日期"}},[t._v("\n                            "+t._s(t.detailInfo.createTime)+"\n                        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"延保卡券："}},[t._v("\n                            "+t._s(t.detailInfo.projectId)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"延保起期："}},[t._v("\n                            "+t._s(t.detailInfo.startTime)+"\n                        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"行驶里程："}},[t._v("\n                            "+t._s(t.detailInfo.mileage)+"\n                        ")])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:4!=t.detailInfo.status?"邮品：":"邮品卡号："}},[4!=t.detailInfo.status?n("div",t._l(t.detailInfo.accessoriesList,(function(e,r){return n("div",{key:r},[t._v(t._s(e.title))])})),0):t._e(),4==t.detailInfo.status?n("div",t._l(t.detailInfo.saleList,(function(e,r){return 1==e.saleType?n("div",{key:r},[t._v(t._s(e.title))]):t._e()})),0):t._e()])],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"合同图片："}},[n("div",{staticClass:"pic-list"},[n("el-image",{staticClass:"pic-list-item-img",attrs:{src:t.detailInfo.pic,"preview-src-list":[t.detailInfo.pic]}})],1)])],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1),n("el-dialog",{staticClass:"user-dialog",attrs:{"close-on-click-modal":!1,title:"审批资料",visible:t.approvalDialogVisible,"before-close":t.closeApprovalDialog,width:"700px"}},[n("el-form",{staticClass:"demo-form-inline",attrs:{model:t.form,"label-width":"130px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"盖章合同图片上传"}},[n("upload-pic",{ref:"upload",on:{getUrl:t.getUrl}})],1)],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.approvalDialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.approval}},[t._v("提交审批")])],1)],1)],1)])},o=[],i=(n("c5f6"),n("7f7f"),n("365c")),a=n("2ef0"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"crop-demo"},[n("div",{staticClass:"crop-demo-btn"},[t._v("选择图片\n            "),n("input",{staticClass:"crop-input",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:t.setImage}})]),n("img",{directives:[{name:"show",rawName:"v-show",value:t.imgSrc,expression:"imgSrc"}],staticClass:"pre-img",attrs:{src:t.imgSrc}})])])},u=[],l=(n("6762"),n("2fdb"),n("69a0")),c=n.n(l);function f(t){if(null===t||"undefined"===typeof t)return"";var e,n,r=t+"",o="",i=0;e=n=0,i=r.length;for(var a=0;a<i;a++){var s=r.charCodeAt(a),u=null;if(s<128)n++;else if(s>127&&s<2048)u=String.fromCharCode(s>>6|192,63&s|128);else if((63488&s^55296)>0)u=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if((64512&s^55296)>0)throw new RangeError("Unmatched trail surrogate at "+a);var l=r.charCodeAt(++a);if((64512&l^56320)>0)throw new RangeError("Unmatched lead surrogate at "+(a-1));s=((1023&s)<<10)+(1023&l)+65536,u=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==u&&(n>e&&(o+=r.slice(e,n)),o+=u,e=n=a+1)}return n>e&&(o+=r.slice(e,i)),o}function h(t){var e,n,r,o,i,a,s,u,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,h=0,p="",d=[];if(!t)return t;t=f(t+"");do{e=t.charCodeAt(c++),n=t.charCodeAt(c++),r=t.charCodeAt(c++),u=e<<16|n<<8|r,o=u>>18&63,i=u>>12&63,a=u>>6&63,s=63&u,d[h++]=l.charAt(o)+l.charAt(i)+l.charAt(a)+l.charAt(s)}while(c<t.length);switch(p=d.join(""),t.length%3){case 1:p=p.slice(0,-2)+"==";break;case 2:p=p.slice(0,-1)+"=";break}return p}function p(t){var e,n,r,o,i,a,s,u,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,f=0,h="",p=[];if(!t)return t;t+="";do{o=l.indexOf(t.charAt(c++)),i=l.indexOf(t.charAt(c++)),a=l.indexOf(t.charAt(c++)),s=l.indexOf(t.charAt(c++)),u=o<<18|i<<12|a<<6|s,e=u>>16&255,n=u>>8&255,r=255&u,p[f++]=64===a?String.fromCharCode(e):64===s?String.fromCharCode(e,n):String.fromCharCode(e,n,r)}while(c<t.length);return h=p.join(""),h}function d(t){return t=h(t),t.replace(/\//g,"_").replace(/\+/g,"-")}function g(t){return t=t.replace(/_/g,"/").replace(/-/g,"+"),p(t)}var m=function(){return m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},m.apply(this,arguments)},y=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r["throw"](t))}catch(e){i(e)}}function u(t){t.done?n(t.value):o(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},v=Math.pow(1024,2);function w(t,e){var n=e*v;if(n>t.size)n=t.size;else while(t.size>1e4*n)n*=2;for(var r=[],o=Math.ceil(t.size/n),i=0;i<o;i++){var a=t.slice(n*i,i===o-1?t.size:n*(i+1));r.push(a)}return r}function S(t){return Object.keys(t).every((function(t){return 0===t.indexOf("x-qn-meta-")}))}function x(t){return Object.keys(t).every((function(t){return 0===t.indexOf("x:")}))}function C(t){return t.reduce((function(t,e){return t+e}),0)}function P(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){window.console&&window.console.warn&&console.warn("setLocalFileInfo failed")}}function k(t,e,n){var r=null==e?"_":"_key_"+e+"_";return"qiniu_js_sdk_upload_file_name_"+t+r+"size_"+n}function I(t){try{localStorage.removeItem(t)}catch(e){window.console&&window.console.warn&&console.warn("removeLocalFileInfo failed")}}function _(t){try{var e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(n){return window.console&&window.console.warn&&console.warn("getLocalFileInfo failed"),null}}function U(t){var e="UpToken "+t;return{Authorization:e}}function D(t){var e=U(t);return m({"content-type":"application/octet-stream"},e)}function F(t){var e=U(t);return m({"content-type":"application/json"},e)}function E(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject("Microsoft.XMLHTTP")}function T(t){return y(this,void 0,void 0,(function(){var e,n;return b(this,(function(r){switch(r.label){case 0:return[4,O(t)];case 1:return e=r.sent(),n=new c.a.ArrayBuffer,n.append(e),[2,n.end()]}}))}))}function O(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(t){if(t.target){var r=t.target.result;e(r)}else n(new Error("progress event target is undefined"))},r.onerror=function(){n(new Error("fileReader read failed"))},r.readAsArrayBuffer(t)}))}function A(t,e){return new Promise((function(n,r){var o=E();if(o.open(e.method,t),e.onCreate&&e.onCreate(o),e.headers){var i=e.headers;Object.keys(i).forEach((function(t){o.setRequestHeader(t,i[t])}))}o.upload.addEventListener("progress",(function(t){t.lengthComputable&&e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})})),o.onreadystatechange=function(){var t=o.responseText;if(4===o.readyState){var e=o.getResponseHeader("x-reqId")||"";if(200!==o.status){var i="xhr request failed, code: "+o.status;return t&&(i+=" response: "+t),void r({code:o.status,message:i,reqId:e,isRequestError:!0})}try{n({data:JSON.parse(t),reqId:e})}catch(a){r(a)}}},o.send(e.body)}))}function R(t){if(t&&t.match){var e=t.match(/(^https?)/);if(!e)return"";var n=e[1];return e=t.match(/^https?:\/\/([^:^/]*):(\d*)/),e?e[2]:"http"===n?"80":"443"}return""}function L(t){if(t&&t.match){var e=t.match(/^https?:\/\/([^:^/]*)/);return e?e[1]:""}return""}function G(t){var e=t.split(":"),n=e.length>3?e[1]:e[0],r=JSON.parse(g(e[e.length-1]));return{ak:n,bucket:r.scope.split(":")[0]}}function B(t){var e=window.URL||window.webkitURL||window.mozURL;return e.createObjectURL(t)}function j(t,e){var n=t.width,r=t.height;switch(e){case 1:return{width:n,height:r,matrix:[1,0,0,1,0,0]};case 2:return{width:n,height:r,matrix:[-1,0,0,1,n,0]};case 3:return{width:n,height:r,matrix:[-1,0,0,-1,n,r]};case 4:return{width:n,height:r,matrix:[1,0,0,-1,0,r]};case 5:return{width:r,height:n,matrix:[0,1,1,0,0,0]};case 6:return{width:r,height:n,matrix:[0,1,-1,0,r,0]};case 7:return{width:r,height:n,matrix:[0,-1,-1,0,r,n]};case 8:return{width:r,height:n,matrix:[0,-1,1,0,0,n]};default:throw new Error("orientation "+e+" is unavailable")}}var z,q=function(){function t(){}return t.prototype.log=function(t,e){var n=Object.values(t).join(",");this.send(n,e,0)},t.prototype.send=function(t,e,n){var r=this,o=E();o.open("POST","https://uplog.qbox.me/log/3"),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.setRequestHeader("Authorization","UpToken "+e),o.onreadystatechange=function(){4===o.readyState&&200!==o.status&&++n<=3&&r.send(t,e,n)},o.send(t)},t}(),M=q,N=function(){function t(t,e){this.runTask=t,this.limit=e,this.queue=[],this.processing=[]}return t.prototype.enqueue=function(t){var e=this;return new Promise((function(n,r){e.queue.push({task:t,resolve:n,reject:r}),e.check()}))},t.prototype.run=function(t){var e=this;this.queue=this.queue.filter((function(e){return e!==t})),this.processing.push(t),this.runTask(t.task).then((function(){e.processing=e.processing.filter((function(e){return e!==t})),t.resolve(),e.check()}),(function(e){return t.reject(e)}))},t.prototype.check=function(){var t=this,e=this.processing.length,n=this.limit-e;this.queue.slice(0,n).forEach((function(e){t.run(e)}))},t}(),V={z0:"z0",z1:"z1",z2:"z2",na0:"na0",as0:"as0"},X=(z={},z[V.z0]={srcUphost:"up.qiniup.com",cdnUphost:"upload.qiniup.com"},z[V.z1]={srcUphost:"up-z1.qiniup.com",cdnUphost:"upload-z1.qiniup.com"},z[V.z2]={srcUphost:"up-z2.qiniup.com",cdnUphost:"upload-z2.qiniup.com"},z[V.na0]={srcUphost:"up-na0.qiniup.com",cdnUphost:"upload-na0.qiniup.com"},z[V.as0]={srcUphost:"up-as0.qiniup.com",cdnUphost:"upload-as0.qiniup.com"},z),H=function(){return H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},H.apply(this,arguments)},J=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r["throw"](t))}catch(e){i(e)}}function u(t){t.done?n(t.value):o(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))},W=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function $(t,e){return J(this,void 0,void 0,(function(){var n,r;return W(this,(function(o){return n=G(t),r=e+"//api.qiniu.com/v2/query?ak="+n.ak+"&bucket="+n.bucket,[2,A(r,{method:"GET"})]}))}))}function Y(t,e){return J(this,void 0,void 0,(function(){var n,r,o,i,a;return W(this,(function(s){switch(s.label){case 0:return n=t.upprotocol,t.uphost?[2,n+"//"+t.uphost]:t.region?(r=X[t.region],o=t.useCdnDomain?r.cdnUphost:r.srcUphost,[2,n+"//"+o]):[4,$(e,n)];case 1:return i=s.sent(),a=i.data.up.acc.main,[2,n+"//"+a[0]]}}))}))}function K(t,e,n){var r=n.url,o=n.id;return r+"/buckets/"+t+"/objects/"+(null!=e?d(e):"~")+"/uploads/"+o}function Z(t,e,n,r){var o=r+"/buckets/"+e+"/objects/"+(null!=n?d(n):"~")+"/uploads";return A(o,{method:"POST",headers:U(t)})}function Q(t,e,n,r,o){var i=G(t).bucket,a=K(i,e,r)+"/"+n;return A(a,H(H({},o),{method:"PUT",headers:D(t)}))}function tt(t,e,n,r){var o=G(t).bucket,i=K(o,e,n);return A(i,H(H({},r),{method:"POST",headers:F(t)}))}var et=function(){return et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},et.apply(this,arguments)},nt=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r["throw"](t))}catch(e){i(e)}}function u(t){t.done?n(t.value):o(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))},rt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ot=4,it=Math.pow(1024,3),at=function(){function t(t,e,n){this.statisticsLogger=n,this.xhrList=[],this.aborted=!1,this.retryCount=0,this.config=et({useCdnDomain:!0,disableStatisticsReport:!1,retryCount:3,checkByMD5:!1,uphost:"",upprotocol:"https:",forceDirect:!1,chunkSize:ot,concurrentRequestLimit:3},t.config),this.putExtra=et({fname:""},t.putExtra),this.file=t.file,this.key=t.key,this.token=t.token,this.onData=e.onData,this.onError=e.onError,this.onComplete=e.onComplete;try{this.bucket=G(this.token).bucket}catch(r){this.onError(r)}}return t.prototype.putFile=function(){return nt(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,s;return rt(this,(function(u){switch(u.label){case 0:if(this.aborted=!1,this.putExtra.fname||(this.putExtra.fname=this.file.name),this.file.size>1e4*it)throw t=new Error("file size exceed maximum value 10000G"),this.onError(t),t;if(this.putExtra.customVars&&!x(this.putExtra.customVars))throw t=new Error("customVars key should start width x:"),this.onError(t),t;if(this.putExtra.metadata&&!S(this.putExtra.metadata))throw t=new Error("metadata key should start with x-qn-meta-"),this.onError(t),t;u.label=1;case 1:return u.trys.push([1,4,,5]),e=this,[4,Y(this.config,this.token)];case 2:return e.uploadUrl=u.sent(),this.uploadAt=(new Date).getTime(),[4,this.run()];case 3:return n=u.sent(),this.onComplete(n.data),this.config.disableStatisticsReport||this.sendLog(n.reqId,200),[2,n];case 4:if(r=u.sent(),this.clear(),r.isRequestError&&!this.config.disableStatisticsReport&&(o=this.aborted?"":r.reqId,i=this.aborted?-2:r.code,this.sendLog(o,i)),a=r.isRequestError&&0===r.code&&!this.aborted,s=++this.retryCount<=this.config.retryCount,a&&s||612===r.code)return[2,this.putFile()];throw this.onError(r),r;case 5:return[2]}}))}))},t.prototype.clear=function(){this.xhrList.forEach((function(t){return t.abort()})),this.xhrList=[]},t.prototype.stop=function(){this.clear(),this.aborted=!0},t.prototype.addXhr=function(t){this.xhrList.push(t)},t.prototype.sendLog=function(t,e){this.statisticsLogger.log({code:e,reqId:t,host:L(this.uploadUrl),remoteIp:"",port:R(this.uploadUrl),duration:((new Date).getTime()-this.uploadAt)/1e3,time:Math.floor(this.uploadAt/1e3),bytesSent:this.progress?this.progress.total.loaded:0,upType:"jssdk-h5",size:this.file.size},this.token)},t.prototype.getProgressInfoItem=function(t,e){return{loaded:t,size:e,percent:t/e*100}},t}(),st=at,ut=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(){return lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},lt.apply(this,arguments)},ct=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r["throw"](t))}catch(e){i(e)}}function u(t){t.done?n(t.value):o(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))},ft=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function ht(t){var e=/^[1-9]\d*$/;return e.test(String(t))}var pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.run=function(){return ct(this,void 0,void 0,(function(){var t,e,n,r=this;return ft(this,(function(o){switch(o.label){case 0:if(!this.config.chunkSize||!ht(this.config.chunkSize))throw new Error("chunkSize must be a positive integer");if(this.config.chunkSize>1024)throw new Error("chunkSize maximum value is 1024");return[4,this.initBeforeUploadChunks()];case 1:return o.sent(),t=new N((function(t){return r.uploadChunk(t)}),this.config.concurrentRequestLimit),e=this.chunks.map((function(e,n){return t.enqueue({chunk:e,index:n})})),n=Promise.all(e).then((function(){return r.mkFileReq()})),n.then((function(){I(r.getLocalKey())}),(function(t){612!==t.code&&400!==t.code||I(r.getLocalKey())})),[2,n]}}))}))},e.prototype.uploadChunk=function(t){return ct(this,void 0,void 0,(function(){var e,n,r,o,i,a,s,u,l,c=this;return ft(this,(function(f){switch(f.label){case 0:return e=t.index,n=t.chunk,r=this.uploadedList[e],o=this.config.checkByMD5,i=function(){c.updateChunkProgress(n.size,e)},r&&!o?(i(),[2]):[4,T(n)];case 1:return a=f.sent(),r&&a===r.md5?(i(),[2]):(s=function(t){c.updateChunkProgress(t.loaded,e)},u={body:n,onProgress:s,onCreate:function(t){return c.addXhr(t)}},[4,Q(this.token,this.key,t.index+1,this.getUploadInfo(),u)]);case 2:return l=f.sent(),s({loaded:n.size,total:n.size}),this.uploadedList[e]={etag:l.data.etag,md5:l.data.md5,size:n.size},P(this.getLocalKey(),{id:this.uploadId,data:this.uploadedList}),[2]}}))}))},e.prototype.mkFileReq=function(){return ct(this,void 0,void 0,(function(){var t,e,n=this;return ft(this,(function(r){switch(r.label){case 0:return t=lt(lt(lt({parts:this.uploadedList.map((function(t,e){return{etag:t.etag,partNumber:e+1}})),fname:this.putExtra.fname},this.putExtra.mimeType&&{mimeType:this.putExtra.mimeType}),this.putExtra.customVars&&{customVars:this.putExtra.customVars}),this.putExtra.metadata&&{metadata:this.putExtra.metadata}),[4,tt(this.token,this.key,this.getUploadInfo(),{onCreate:function(t){return n.addXhr(t)},body:JSON.stringify(t)})];case 1:return e=r.sent(),this.updateMkFileProgress(1),[2,e]}}))}))},e.prototype.initBeforeUploadChunks=function(){return ct(this,void 0,void 0,(function(){var t,e;return ft(this,(function(n){switch(n.label){case 0:return t=_(this.getLocalKey()),t?[3,2]:(I(this.getLocalKey()),[4,Z(this.token,this.bucket,this.key,this.uploadUrl)]);case 1:return e=n.sent(),this.uploadId=e.data.uploadId,this.uploadedList=[],[3,3];case 2:this.uploadId=t.id,this.uploadedList=t.data,n.label=3;case 3:return this.chunks=w(this.file,this.config.chunkSize),this.loaded={mkFileProgress:0,chunks:this.chunks.map((function(t){return 0}))},this.notifyResumeProgress(),[2]}}))}))},e.prototype.getUploadInfo=function(){return{id:this.uploadId,url:this.uploadUrl}},e.prototype.getLocalKey=function(){return k(this.file.name,this.key,this.file.size)},e.prototype.updateChunkProgress=function(t,e){this.loaded.chunks[e]=t,this.notifyResumeProgress()},e.prototype.updateMkFileProgress=function(t){this.loaded.mkFileProgress=t,this.notifyResumeProgress()},e.prototype.notifyResumeProgress=function(){var t=this;this.progress={total:this.getProgressInfoItem(C(this.loaded.chunks)+this.loaded.mkFileProgress,this.file.size+1),chunks:this.chunks.map((function(e,n){return t.getProgressInfoItem(t.loaded.chunks[n],e.size)})),uploadInfo:{id:this.uploadId,url:this.uploadUrl}},this.onData(this.progress)},e}(st),dt=pt,gt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r["throw"](t))}catch(e){i(e)}}function u(t){t.done?n(t.value):o(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))},yt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gt(e,t),e.prototype.run=function(){return mt(this,void 0,void 0,(function(){var t,e,n,r=this;return yt(this,(function(o){switch(o.label){case 0:return t=new FormData,t.append("file",this.file),t.append("token",this.token),null!=this.key&&t.append("key",this.key),t.append("fname",this.putExtra.fname),this.putExtra.customVars&&(e=this.putExtra.customVars,Object.keys(e).forEach((function(n){return t.append(n,e[n].toString())}))),[4,A(this.uploadUrl,{method:"POST",body:t,onProgress:function(t){r.updateDirectProgress(t.loaded,t.total)},onCreate:function(t){return r.addXhr(t)}})];case 1:return n=o.sent(),this.finishDirectProgress(),[2,n]}}))}))},e.prototype.updateDirectProgress=function(t,e){this.progress={total:this.getProgressInfoItem(t,e+1)},this.onData(this.progress)},e.prototype.finishDirectProgress=function(){if(!this.progress)return this.progress={total:this.getProgressInfoItem(this.file.size,this.file.size)},void this.onData(this.progress);var t=this.progress.total;this.progress={total:this.getProgressInfoItem(t.loaded+1,t.size)},this.onData(this.progress)},e}(st),vt=bt;function wt(t,e,n){return t.config&&t.config.forceDirect?new vt(t,e,n):t.file.size>4*v?new dt(t,e,n):new vt(t,e,n)}var St=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xt=function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xt.apply(this,arguments)},Ct=function(){function t(){this.closed=!1}return t.prototype.unsubscribe=function(){this.closed||(this.closed=!0,this._unsubscribe&&this._unsubscribe())},t.prototype.add=function(t){this._unsubscribe=t},t}(),Pt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.isStopped=!1,o.destination=e&&"object"===typeof e?e:xt(xt(xt({},e&&{next:e}),n&&{error:n}),r&&{complete:r}),o}return St(e,t),e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype.next=function(t){!this.isStopped&&this.destination.next&&this.destination.next(t)},e.prototype.error=function(t){!this.isStopped&&this.destination.error&&(this.isStopped=!0,this.destination.error(t))},e.prototype.complete=function(t){!this.isStopped&&this.destination.complete&&(this.isStopped=!0,this.destination.complete(t))},e}(Ct),kt=function(){function t(t){this._subscribe=t}return t.prototype.subscribe=function(t,e,n){var r=new Pt(t,e,n);return r.add(this._subscribe(r)),r},t}(),It=n("6f45"),_t=function(){return _t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_t.apply(this,arguments)},Ut=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r["throw"](t))}catch(e){i(e)}}function u(t){t.done?n(t.value):o(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))},Dt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Ft=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Et=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ft(arguments[e]));return t},Tt={PNG:"image/png",JPEG:"image/jpeg",WEBP:"image/webp",BMP:"image/bmp"},Ot=4,At=Math.log(2),Rt=Object.keys(Tt).map((function(t){return Tt[t]})),Lt=Tt.JPEG;function Gt(t){return Rt.includes(t)}(function(){function t(t,e){this.file=t,this.config=e,this.config=_t({quality:.92,noCompressIfLarger:!1},this.config)}t.prototype.process=function(){return Ut(this,void 0,void 0,(function(){var t,e,n,r,o,i;return Dt(this,(function(a){switch(a.label){case 0:if(this.outputType=this.file.type,t={},!Gt(this.file.type))throw new Error("unsupported file type: "+this.file.type);return[4,this.getOriginImage()];case 1:return e=a.sent(),[4,this.getCanvas(e)];case 2:return n=a.sent(),r=1,this.config.maxWidth&&(r=Math.min(1,this.config.maxWidth/n.width)),this.config.maxHeight&&(r=Math.min(1,r,this.config.maxHeight/n.height)),t.width=n.width,t.height=n.height,[4,this.doScale(n,r)];case 3:return o=a.sent(),i=this.toBlob(o),i.size>this.file.size&&this.config.noCompressIfLarger?[2,{dist:this.file,width:t.width,height:t.height}]:[2,{dist:i,width:o.width,height:o.height}]}}))}))},t.prototype.clear=function(t,e,n){this.outputType===Lt?(t.fillStyle="#fff",t.fillRect(0,0,e,n)):t.clearRect(0,0,e,n)},t.prototype.getOriginImage=function(){var t=this;return new Promise((function(e,n){var r=B(t.file),o=new Image;o.onload=function(){e(o)},o.onerror=function(){n("image load error")},o.src=r}))},t.prototype.getCanvas=function(t){var e=this;return new Promise((function(n,r){It["EXIF"].getData(t,(function(){var o=It["EXIF"].getTag(t,"Orientation")||1,i=j(t,o),a=i.width,s=i.height,u=i.matrix,l=document.createElement("canvas"),c=l.getContext("2d");l.width=a,l.height=s,c?(e.clear(c,a,s),c.transform.apply(c,Et(u)),c.drawImage(t,0,0),n(l)):r(new Error("context is null"))}))}))},t.prototype.doScale=function(t,e){return Ut(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,l,c,f,h,p,d,g,m,y;return Dt(this,(function(b){if(1===e)return[2,t];if(n=t.getContext("2d"),r=Math.min(Ot,Math.ceil(1/e/At)),o=Math.pow(e,1/r),i=document.createElement("canvas"),a=i.getContext("2d"),s=t.width,u=t.height,l=s,c=u,i.width=s,i.height=u,!a||!n)throw new Error("mctx or sctx can't be null");for(p=0;p<r;p++)d=s*o|0,g=u*o|0,p===r-1&&(d=l*e,g=c*e),p%2===0?(f=t,h=a):(f=i,h=n),this.clear(h,s,u),h.drawImage(f,0,0,s,u,0,0,d,g),s=d,u=g;return m=f===t?i:t,y=h.getImageData(0,0,s,u),m.width=s,m.height=u,h.putImageData(y,0,0),[2,m]}))}))},t.prototype.toBlob=function(t){var e=t.toDataURL(this.outputType,this.config.quality),n=atob(e.split(",")[1]).split("").map((function(t){return t.charCodeAt(0)})),r=new Blob([new Uint8Array(n)],{type:this.outputType});return r}})();var Bt=new M;function jt(t,e,n,r,o){var i={file:t,key:e,token:n,putExtra:r,config:o};return new kt((function(t){var e=wt(i,{onData:function(e){return t.next(e)},onError:function(e){return t.error(e)},onComplete:function(e){return t.complete(e)}},Bt);return e.putFile(),e.stop.bind(e)}))}var zt={name:"upload",data:function(){return{fileList:[],imgSrc:""}},components:{},methods:{clearPic:function(){this.fileList=[],this.imgSrc=""},setImage:function(t){var e=this;Object(i["r"])().then((function(n){var r=e,o=t.target.files[0],i=jt(o,o.name,n,{},{region:V.z2}),a={next:function(t){},error:function(t){console.log(res)},complete:function(t){r.$message.success({message:"上传成功"});var e="http://storage.sankinetwork.com/"+t.key;r.$emit("getUrl",e)}};i.subscribe(a)}));var n=t.target.files[0];if(n.type.includes("image/")){var r=new FileReader;r.onload=function(t){e.imgSrc=t.target.result},r.readAsDataURL(n)}},imageuploaded:function(t){console.log(t)},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传接口上传失败，可更改为自己的服务器接口"})}},created:function(){this.clearPic()}},qt=zt,Mt=(n("a282"),n("2877")),Nt=Object(Mt["a"])(qt,s,u,!1,null,"6bc7288a",null),Vt=Nt.exports,Xt={name:"Contract",components:{UploadPic:Vt},data:function(){return{operate:"detail",detailInfo:{},tableData:[],page:{no:1,total:0,size:20},searchForm:{status:"2"},form:{address:"",brand:"",brandPic:"",lat:"",lng:"",status:""},dialogVisible:!1,approvalDialogVisible:!1,selectRow:[],contractValid:[],contractTime:[],status:"2",name:"",statusOpt:[{value:"2",label:"审批盖章"},{value:"3",label:"合同审核"},{value:"4",label:"发卡"}]}},created:function(){this.getData()},methods:{sendCard:function(t){var e=this,n={contractId:t.id,insuranceId:t.insuranceId,status:"4"};Object(i["p"])(n).then((function(t){e.$message.success("发卡成功"),e.getData(),console.log(t)}))},getUrl:function(t){this.approvalPic=t},approvalReady:function(t){var e=this;this.approvalId=t.id,this.approvalDialogVisible=!0,this.$nextTick((function(){e.$refs.upload.clearPic()}))},closeApprovalDialog:function(){this.approvalDialogVisible=!1},getStatus:function(t){for(var e=0;e<this.statusOpt.length;e++){var n=this.statusOpt[e];if(t==n.value)return n.label}},approval:function(t){var e=this;if(""!=this.approvalPic){var n={id:this.approvalId,status:"3",pic:this.approvalPic};Object(i["f"])(n).then((function(t){e.$message.success({message:"审批成功"}),e.closeApprovalDialog(),e.getData()}))}else this.$message.warning({message:"请先上传合同图片"})},search:function(){this.getData()},handlePageChange:function(){this.getData()},getData:function(){var t=this,e={pageSize:this.page.size,page:this.page.no,contractEndTime:this.contractValid[1]||"",contractStartTime:this.contractValid[0]||"",memberName:this.name,startTime:this.contractTime[0]||"",endTime:this.contractTime[1]||"",status:this.status};Object(i["i"])(e).then((function(e){var n=e.records.filter((function(t){return"0"!=t.status&&"1"!=t.status}));t.tableData=n,t.page.total=e.total,t.page.no=e.current}))},handleSelectionChange:function(t){this.selectRow=t},edit:function(t){this.operate="edit",t.status=Number(t.status),this.form=t,this.openDialog()},detail:function(t){var e=this;Object(i["h"])({id:t.id}).then((function(t){console.log(t),e.detailInfo=t.contract,e.detailInfo.accessoriesList=t.accessories,e.operate="detail",e.form=t,e.openDialog()}))},del:function(t){this.operate="edit",t.status=Number(t.status),this.form=t,this.form.status=0,this.save()},save:function(){var t=this,e=Object(a["cloneDeep"])(this.form);"edit"==this.operate&&(delete e.password,userUpdate(e).then((function(e){e&&(t.$message.success({message:"修改成功"}),t.dialogVisible=!1,t.getData())})))},openDialog:function(){this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1}}},Ht=Xt,Jt=(n("6fa9"),Object(Mt["a"])(Ht,r,o,!1,null,"437f0893",null));e["default"]=Jt.exports},"69a0":function(t,e,n){(function(e){t.exports=e()})((function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];n+=(r&o|~r&i)+e[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+e[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+e[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+e[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[9]-343485551|0,r=(r<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function o(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,o,i,a,s,u,l=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)n(c,r(t.substring(e-64,e)));for(t=t.substring(e-64),o=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(c,i),e=0;e<16;e+=1)i[e]=0;return a=8*l,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,i[14]=s,i[15]=u,n(c,i),c}function a(t){var e,r,i,a,s,u,l=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)n(c,o(t.subarray(e-64,e)));for(t=e-64<l?t.subarray(e-64):new Uint8Array(0),r=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(c,i),e=0;e<16;e+=1)i[e]=0;return a=8*l,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,i[14]=s,i[15]=u,n(c,i),c}function s(t){var n,r="";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function u(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function l(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return e?i:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function h(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function p(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==u(i("hello"))&&function(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,s,u=this.byteLength,l=e(n,u),c=u;return r!==t&&(c=e(r,u)),l>c?new ArrayBuffer(0):(o=c-l,i=new ArrayBuffer(o),a=new Uint8Array(i),s=new Uint8Array(this,l,o),a.set(s),i)}}(),d.prototype.append=function(t){return this.appendBinary(l(t)),this},d.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},d.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=u(this._hash),t&&(n=p(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(t,e){var r,o,i,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,t),a=0;a<16;a+=1)t[a]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,t[14]=o,t[15]=i,n(this._hash,t)},d.hash=function(t,e){return d.hashBinary(l(t),e)},d.hashBinary=function(t,e){var n=i(t),r=u(n);return e?p(r):r},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(t){var e,r=h(this._buff.buffer,t,!0),i=r.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)n(this._hash,o(r.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(r.buffer.slice(e-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=u(this._hash),t&&(n=p(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var t=d.prototype.getState.call(this);return t.buff=f(t.buff),t},d.ArrayBuffer.prototype.setState=function(t){return t.buff=c(t.buff,!0),d.prototype.setState.call(this,t)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(t,e){var n=a(new Uint8Array(t)),r=u(n);return e?p(r):r},d}))},"6f45":function(t,e,r){var o,i;(function(){var r=!1,a=function(t){return t instanceof a?t:this instanceof a?void(this.EXIFwrapped=t):new a(t)};t.exports&&(e=t.exports=a),e.EXIF=a;var s=a.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},u=a.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},l=a.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},c=a.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},f=a.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function h(t){return!!t.exifdata}function p(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),r=n.length,o=new ArrayBuffer(r),i=new Uint8Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o}function d(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},n.send()}function g(t,e){function n(n){var r=m(n);t.exifdata=r||{};var o=y(n);if(t.iptcdata=o||{},a.isXmpEnabled){var i=I(n);t.xmpdata=i||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var o=p(t.src);n(o)}else if(/^blob\:/i.test(t.src)){var i=new FileReader;i.onload=function(t){n(t.target.result)},d(t.src,(function(t){i.readAsArrayBuffer(t)}))}else{var s=new XMLHttpRequest;s.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(s.response),s=null},s.open("GET",t.src,!0),s.responseType="arraybuffer",s.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){i=new FileReader;i.onload=function(t){r&&console.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},i.readAsArrayBuffer(t)}}function m(t){var e=new DataView(t);if(r&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;var n,o=2,i=t.byteLength;while(o<i){if(255!=e.getUint8(o))return r&&console.log("Not a valid marker at offset "+o+", found: "+e.getUint8(o)),!1;if(n=e.getUint8(o+1),r&&console.log(n),225==n)return r&&console.log("Found 0xFFE1 marker"),k(e,o+4,e.getUint16(o+2)-2);o+=2+e.getUint16(o+2)}}function y(t){var e=new DataView(t);if(r&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;var n=2,o=t.byteLength,i=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};while(n<o){if(i(e,n)){var a=e.getUint8(n+7);a%2!==0&&(a+=1),0===a&&(a=4);var s=n+8+a,u=e.getUint16(n+6+a);return v(t,s,u)}n++}}var b={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function v(t,e,n){var r,o,i,a,s=new DataView(t),u={},l=e;while(l<e+n)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(a=s.getUint8(l+2),a in b&&(i=s.getInt16(l+3),i+5,o=b[a],r=P(s,l+5,i),u.hasOwnProperty(o)?u[o]instanceof Array?u[o].push(r):u[o]=[u[o],r]:u[o]=r)),l++;return u}function w(t,e,n,o,i){var a,s,u,l=t.getUint16(n,!i),c={};for(u=0;u<l;u++)a=n+12*u+2,s=o[t.getUint16(a,!i)],!s&&r&&console.log("Unknown tag: "+t.getUint16(a,!i)),c[s]=S(t,a,e,n,i);return c}function S(t,e,n,r,o){var i,a,s,u,l,c,f=t.getUint16(e+2,!o),h=t.getUint32(e+4,!o),p=t.getUint32(e+8,!o)+n;switch(f){case 1:case 7:if(1==h)return t.getUint8(e+8,!o);for(i=h>4?p:e+8,a=[],u=0;u<h;u++)a[u]=t.getUint8(i+u);return a;case 2:return i=h>4?p:e+8,P(t,i,h-1);case 3:if(1==h)return t.getUint16(e+8,!o);for(i=h>2?p:e+8,a=[],u=0;u<h;u++)a[u]=t.getUint16(i+2*u,!o);return a;case 4:if(1==h)return t.getUint32(e+8,!o);for(a=[],u=0;u<h;u++)a[u]=t.getUint32(p+4*u,!o);return a;case 5:if(1==h)return l=t.getUint32(p,!o),c=t.getUint32(p+4,!o),s=new Number(l/c),s.numerator=l,s.denominator=c,s;for(a=[],u=0;u<h;u++)l=t.getUint32(p+8*u,!o),c=t.getUint32(p+4+8*u,!o),a[u]=new Number(l/c),a[u].numerator=l,a[u].denominator=c;return a;case 9:if(1==h)return t.getInt32(e+8,!o);for(a=[],u=0;u<h;u++)a[u]=t.getInt32(p+4*u,!o);return a;case 10:if(1==h)return t.getInt32(p,!o)/t.getInt32(p+4,!o);for(a=[],u=0;u<h;u++)a[u]=t.getInt32(p+8*u,!o)/t.getInt32(p+4+8*u,!o);return a}}function x(t,e,n){var r=t.getUint16(e,!n);return t.getUint32(e+2+12*r,!n)}function C(t,e,n,r){var o=x(t,e+n,r);if(!o)return{};if(o>t.byteLength)return{};var i=w(t,e,e+o,c,r);if(i["Compression"])switch(i["Compression"]){case 6:if(i.JpegIFOffset&&i.JpegIFByteCount){var a=e+i.JpegIFOffset,s=i.JpegIFByteCount;i["blob"]=new Blob([new Uint8Array(t.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",i["Compression"])}else 2==i["PhotometricInterpretation"]&&console.log("Thumbnail image format is RGB, which is not implemented.");return i}function P(t,e,r){var o="";for(n=e;n<e+r;n++)o+=String.fromCharCode(t.getUint8(n));return o}function k(t,e){if("Exif"!=P(t,e,4))return r&&console.log("Not valid EXIF data! "+P(t,e,4)),!1;var n,o,i,a,c,h=e+6;if(18761==t.getUint16(h))n=!1;else{if(19789!=t.getUint16(h))return r&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(h+2,!n))return r&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var p=t.getUint32(h+4,!n);if(p<8)return r&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(h+4,!n)),!1;if(o=w(t,h,h+p,u,n),o.ExifIFDPointer)for(i in a=w(t,h,h+o.ExifIFDPointer,s,n),a){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[i]=f[i][a[i]];break;case"ExifVersion":case"FlashpixVersion":a[i]=String.fromCharCode(a[i][0],a[i][1],a[i][2],a[i][3]);break;case"ComponentsConfiguration":a[i]=f.Components[a[i][0]]+f.Components[a[i][1]]+f.Components[a[i][2]]+f.Components[a[i][3]];break}o[i]=a[i]}if(o.GPSInfoIFDPointer)for(i in c=w(t,h,h+o.GPSInfoIFDPointer,l,n),c){switch(i){case"GPSVersionID":c[i]=c[i][0]+"."+c[i][1]+"."+c[i][2]+"."+c[i][3];break}o[i]=c[i]}return o["thumbnail"]=C(t,h,p,n),o}function I(t){if("DOMParser"in self){var e=new DataView(t);if(r&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;var n=2,o=t.byteLength,i=new DOMParser;while(n<o-4){if("http"==P(e,n,4)){var a=n-1,s=e.getUint16(n-2)-1,u=P(e,a,s),l=u.indexOf("xmpmeta>")+8;u=u.substring(u.indexOf("<x:xmpmeta"),l);var c=u.indexOf("x:xmpmeta")+10;u=u.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+u.slice(c);var f=i.parseFromString(u,"text/xml");return U(f)}n++}}}function _(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var n=0;n<t.attributes.length;n++){var r=t.attributes.item(n);e["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var o=0;o<t.childNodes.length;o++){var i=t.childNodes.item(o),a=i.nodeName;if(null==e[a])e[a]=_(i);else{if(null==e[a].push){var s=e[a];e[a]=[],e[a].push(s)}e[a].push(_(i))}}return e}function U(t){try{var e={};if(t.children.length>0)for(var n=0;n<t.children.length;n++){var r=t.children.item(n),o=r.attributes;for(var i in o){var a=o[i],s=a.nodeName,u=a.nodeValue;void 0!==s&&(e[s]=u)}var l=r.nodeName;if("undefined"==typeof e[l])e[l]=_(r);else{if("undefined"==typeof e[l].push){var c=e[l];e[l]=[],e[l].push(c)}e[l].push(_(r))}}else e=t.textContent;return e}catch(f){console.log(f.message)}}a.enableXmp=function(){a.isXmpEnabled=!0},a.disableXmp=function(){a.isXmpEnabled=!1},a.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete)&&(h(t)?e&&e.call(t):g(t,e),!0)},a.getTag=function(t,e){if(h(t))return t.exifdata[e]},a.getIptcTag=function(t,e){if(h(t))return t.iptcdata[e]},a.getAllTags=function(t){if(!h(t))return{};var e,n=t.exifdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},a.getAllIptcTags=function(t){if(!h(t))return{};var e,n=t.iptcdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},a.pretty=function(t){if(!h(t))return"";var e,n=t.exifdata,r="";for(e in n)n.hasOwnProperty(e)&&("object"==typeof n[e]?n[e]instanceof Number?r+=e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":r+=e+" : ["+n[e].length+" values]\r\n":r+=e+" : "+n[e]+"\r\n");return r},a.readFromBinaryFile=function(t){return m(t)},o=[],i=function(){return a}.apply(e,o),void 0===i||(t.exports=i)}).call(this)},"6fa9":function(t,e,n){"use strict";var r=n("d35e"),o=n.n(r);o.a},"9cca":function(t,e,n){},a282:function(t,e,n){"use strict";var r=n("9cca"),o=n.n(r);o.a},d35e:function(t,e,n){}}]);